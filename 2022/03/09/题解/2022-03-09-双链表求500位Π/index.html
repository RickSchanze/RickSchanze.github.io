<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>双链表求500位Π | Record Everything</title><meta name="keywords" content="C++,题解"><meta name="author" content="帝皇の惊"><meta name="copyright" content="帝皇の惊"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="题目描述：  思路分析： 根据上面给出的公式，我们可以知道每一项都是前一项乘  但是考虑到会出现的大数，不能直接用long long来进行存储，绝对会溢出。又题目限定了使用双链表，因此我们使用双链表。 最主要需要解决的问题是大数的加法、乘法除法。解决方案见下。 另外，可以给第一项直接乘6，这样之后每一项都是原来的6倍，得出来的结果直接位，不必再继续乘。 并且我们数字低位在前，高位在后。 解题过程：">
<meta property="og:type" content="article">
<meta property="og:title" content="双链表求500位Π">
<meta property="og:url" content="http://example.com/2022/03/09/%E9%A2%98%E8%A7%A3/2022-03-09-%E5%8F%8C%E9%93%BE%E8%A1%A8%E6%B1%82500%E4%BD%8D%CE%A0/index.html">
<meta property="og:site_name" content="Record Everything">
<meta property="og:description" content="题目描述：  思路分析： 根据上面给出的公式，我们可以知道每一项都是前一项乘  但是考虑到会出现的大数，不能直接用long long来进行存储，绝对会溢出。又题目限定了使用双链表，因此我们使用双链表。 最主要需要解决的问题是大数的加法、乘法除法。解决方案见下。 另外，可以给第一项直接乘6，这样之后每一项都是原来的6倍，得出来的结果直接位，不必再继续乘。 并且我们数字低位在前，高位在后。 解题过程：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/06/01/YmRxkMdAUZuaPE5.jpg">
<meta property="article:published_time" content="2022-03-08T16:00:00.000Z">
<meta property="article:modified_time" content="2022-06-01T08:20:44.919Z">
<meta property="article:author" content="帝皇の惊">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="题解">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2022/06/01/YmRxkMdAUZuaPE5.jpg"><link rel="shortcut icon" href="https://s2.loli.net/2022/05/25/D1x3cO5jihFHzwu.jpg"><link rel="canonical" href="http://example.com/2022/03/09/%E9%A2%98%E8%A7%A3/2022-03-09-%E5%8F%8C%E9%93%BE%E8%A1%A8%E6%B1%82500%E4%BD%8D%CE%A0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁体","msgToSimplifiedChinese":"簡体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '双链表求500位Π',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-01 16:20:44'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/js/footer.css"><meta name="generator" content="Hexo 6.2.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2022/05/25/Xyt6VQrClMbxJgi.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/myself"><i class="fa-fw /myself/"></i><span> 1</span></a></li><li><a class="site-page child" href="/butterfly%E4%B8%BB%E9%A2%98"><i class="fa-fw https://github.com/jerryc127/hexo-theme-butterfly/"></i><span> 2</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2022/06/01/YmRxkMdAUZuaPE5.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Record Everything</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E5%85%B3%E4%BA%8E"><i class="fa-fw /about/"></i><span> 0</span></a></li><li><a class="site-page child" href="/myself"><i class="fa-fw /myself/"></i><span> 1</span></a></li><li><a class="site-page child" href="/butterfly%E4%B8%BB%E9%A2%98"><i class="fa-fw https://github.com/jerryc127/hexo-theme-butterfly/"></i><span> 2</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">双链表求500位Π</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-08T16:00:00.000Z" title="发表于 2022-03-09 00:00:00">2022-03-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-06-01T08:20:44.919Z" title="更新于 2022-06-01 16:20:44">2022-06-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%A2%98%E8%A7%A3/">题解</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="双链表求500位Π"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="题目描述：">题目描述：</h1>
<p><img src="https://s2.loli.net/2022/06/01/CU4ZYomSAbjeTRQ.png" alt="1.png"></p>
<h1 id="思路分析：">思路分析：</h1>
<p>根据上面给出的公式，我们可以知道每一项都是前一项乘</p>
<img src="https://latex.codecogs.com/gif.latex?%5Cfrac%7B%282n-1%29%5E%7B2%7D%7D%7B2n%5Ccdot%20%282n1%29%29%7D%5Ccdot%20%5Cfrac%7B1%7D%7B4%7D" id="equationview" title="This is the rendered form of the equation. You can not edit this directly. Right click will give you the option to save the image, and in most browsers you can drag the image onto your desktop or another program." name="equationview" />
<p>但是考虑到会出现的大数，不能直接用long long来进行存储，绝对会溢出。又题目限定了使用双链表，因此我们使用双链表。</p>
<p>最主要需要解决的问题是大数的加法、乘法除法。解决方案见下。</p>
<p>另外，可以给第一项直接乘6，这样之后每一项都是原来的6倍，得出来的结果直接位，不必再继续乘。</p>
<p>并且我们数字低位在前，高位在后。</p>
<h1 id="解题过程：">解题过程：</h1>
<p>①完成一个双链表，题目中要求前500位，那么我们定义一个有600个节点的双链表，并将其初始化。</p>
<pre class="line-numbers language-none"><code class="language-none">struct Node
&#123;
    int data &#x3D; 0;
    Node* next &#x3D; nullptr;
    Node* prev &#x3D; nullptr;
&#125;;
void insertNode(Node* head)
&#123;
    Node* newNode &#x3D; new Node;       &#x2F;&#x2F;直接插入一个元素，这样就不用多次判断head-&gt;next是否为NULL了
    newNode-&gt;next &#x3D; head-&gt;next;
    newNode-&gt;prev &#x3D; head;
    head-&gt;next &#x3D; newNode;
    for (int i &#x3D; 1; i &lt; 600; i++)
    &#123;
        Node* newNode &#x3D; new Node;
        newNode-&gt;next &#x3D; head-&gt;next;
        newNode-&gt;prev &#x3D; head;
        head-&gt;next-&gt;prev &#x3D; newNode;
        head-&gt;next &#x3D; newNode;
    &#125;
&#125;
Node* createAList()
&#123;
    return new Node;
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>②大数乘法</p>
<p>​		让程序模仿我们手算的过程即可。</p>
<pre class="line-numbers language-none"><code class="language-none">void multiple(Node* source, Node* target, int n)
&#123;&#x2F;&#x2F;source指乘数，而结果将存在source中
    int temp &#x3D; 0, ret &#x3D; 0, left &#x3D; 0;    &#x2F;&#x2F;temp指产生的临时变量，ret指进位，left指留下来的数
    while (source)
    &#123;
        temp &#x3D; source-&gt;data * n + ret;
        left &#x3D; temp % 10;
        ret &#x3D; temp &#x2F; 10;
        target-&gt;data &#x3D; left;
        source &#x3D; source-&gt;next;
        target &#x3D; target-&gt;next;
    &#125;
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>③大数加法</strong></p>
<p>​		主要用来求这次结果与上次的和，模拟手算。</p>
<pre class="line-numbers language-none"><code class="language-none">void add(Node* sum, Node* num)
&#123;
    &#x2F;&#x2F;num为这次计算结果，相加的和存于sum中，依然需要传刚开始的节点
    int temp &#x3D; 0, ret &#x3D; 0;
    while (sum &amp;&amp; num)
    &#123;
        temp &#x3D; sum-&gt;data + num-&gt;data + ret;
        sum-&gt;data &#x3D; temp % 10;
        ret &#x3D; temp &#x2F; 10;
        sum &#x3D; sum-&gt;next;
        num &#x3D; num-&gt;next;
    &#125; 
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>④大数除法</strong></p>
<p>​		仍然是模拟手算。</p>
<pre class="line-numbers language-none"><code class="language-none">void divison(Node *source, int n)
&#123;
    &#x2F;&#x2F;值得注意的是，此次传入的应是尾节点
    int temp &#x3D; 0, ret &#x3D; 0;
    while (source)
    &#123;
        int dividend &#x3D; temp + source-&gt;data; &#x2F;&#x2F;计算过程中的被除数
        int now &#x3D; dividend &#x2F; n;             &#x2F;&#x2F;这里应该是列式计算时，计算符号上面的数
        if (!now)
        &#123;
            temp &#x3D; dividend * 10;
        &#125;
        else
        &#123;
            temp &#x3D; (dividend % n) * 10;
        &#125;
        source-&gt;data &#x3D; now;
        source &#x3D; source-&gt;prev;
    &#125;
&#125;　<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>⑤开始计算</strong></p>
<pre class="line-numbers language-none"><code class="language-none">int main()
&#123;
    &#x2F;&#x2F;必要初始化
    Node *sum &#x3D; createAList();
    Node *num &#x3D; createAList();
    insertNode(num);
    insertNode(sum);
    &#x2F;&#x2F;获得尾结点
    Node *sumTail &#x3D; sum, *numTail &#x3D; num;
    while (sumTail-&gt;next !&#x3D; nullptr)
    &#123;
        sumTail &#x3D; sumTail-&gt;next;
    &#125;
    while (numTail-&gt;next !&#x3D; nullptr)
    &#123;
        numTail &#x3D; numTail-&gt;next;
    &#125;
    &#x2F;&#x2F;从3开始，简化运算
    numTail-&gt;data &#x3D; 3;
    sumTail-&gt;data &#x3D; 3;
    for (int i &#x3D; 1; i &lt; 1000; i++)
    &#123;
        int dividend &#x3D; (2 * i) * (2 * i + 1) * 4;
        int mult &#x3D; (2 * i - 1) * (2 * i - 1);
        &#x2F;&#x2F;先做除法，否则会溢出
        divison(numTail, dividend);
        &#x2F;&#x2F;再做乘法，注意从头结点开始
        multiple(num, mult);
        &#x2F;&#x2F;相加
        add(sum, num);
    &#125;
    &#x2F;&#x2F;指定输出位数输出
    int n;
    std::cin &gt;&gt; n;
    std::cout &lt;&lt; sumTail-&gt;data;
    sumTail &#x3D; sumTail-&gt;prev;
    std::cout &lt;&lt; &quot;.&quot;;
    for (int i &#x3D; 0; i &lt; n - 1; i++)
    &#123;
        std::cout &lt;&lt; sumTail-&gt;data;
        sumTail &#x3D; sumTail-&gt;prev;
    &#125;
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="输出结果：">输出结果：</h1>
<p><img src="https://s2.loli.net/2022/06/01/AqelHXj8KhuGC34.png" alt="2.png"></p>
<h1 id="成功">成功！</h1>
<h1 id="完整代码：">完整代码：</h1>
<pre class="line-numbers language-none"><code class="language-none">#include &lt;iostream&gt;

struct Node
&#123;
    int data &#x3D; 0;
    Node *next &#x3D; nullptr;
    Node *prev &#x3D; nullptr;
&#125;;
void insertNode(Node *head)
&#123;
    Node *newNode &#x3D; new Node; &#x2F;&#x2F;直接插入一个元素，这样就不用多次判断head-&gt;next是否为NULL了
    newNode-&gt;next &#x3D; head-&gt;next;
    newNode-&gt;prev &#x3D; head;
    head-&gt;next &#x3D; newNode;
    for (int i &#x3D; 1; i &lt; 600; i++)
    &#123;
        Node *newNode &#x3D; new Node;
        newNode-&gt;next &#x3D; head-&gt;next;
        newNode-&gt;prev &#x3D; head;
        head-&gt;next-&gt;prev &#x3D; newNode;
        head-&gt;next &#x3D; newNode;
    &#125;
&#125;
Node *createAList()
&#123;
    return new Node;
&#125;

void multiple(Node *source, int n)
&#123;
    int temp &#x3D; 0, ret &#x3D; 0; &#x2F;&#x2F; temp指产生的临时变量，ret指进位，left指留下来的数
    while (source)
    &#123;
        temp &#x3D; source-&gt;data * n + ret;
        ret &#x3D; temp &#x2F; 10;
        source-&gt;data &#x3D; temp % 10;
        source &#x3D; source-&gt;next;
    &#125;
&#125;

void add(Node *sum, Node *num)
&#123;
    &#x2F;&#x2F; num为这次计算结果，相加的和存于sum中，依然需要传刚开始的节点
    int temp &#x3D; 0, ret &#x3D; 0;
    while (sum &amp;&amp; num)
    &#123;
        temp &#x3D; sum-&gt;data + num-&gt;data + ret;
        sum-&gt;data &#x3D; temp % 10;
        ret &#x3D; temp &#x2F; 10;
        sum &#x3D; sum-&gt;next;
        num &#x3D; num-&gt;next;
    &#125;
&#125;

void divison(Node *source, int n)
&#123;
    &#x2F;&#x2F;值得注意的是，此次传入的应都是尾节点
    int temp &#x3D; 0, ret &#x3D; 0;
    while (source)
    &#123;
        int dividend &#x3D; temp + source-&gt;data; &#x2F;&#x2F;计算过程中的被除数
        int now &#x3D; dividend &#x2F; n;             &#x2F;&#x2F;这里应该是列式计算时，计算符号上面的数
        if (!now)
        &#123;
            temp &#x3D; dividend * 10;
        &#125;
        else
        &#123;
            temp &#x3D; (dividend % n) * 10;
        &#125;
        source-&gt;data &#x3D; now;
        source &#x3D; source-&gt;prev;
    &#125;
&#125;

int main()
&#123;
    &#x2F;&#x2F;必要初始化
    Node *sum &#x3D; createAList();
    Node *num &#x3D; createAList();
    insertNode(num);
    insertNode(sum);
    &#x2F;&#x2F;获得尾结点
    Node *sumTail &#x3D; sum, *numTail &#x3D; num;
    while (sumTail-&gt;next !&#x3D; nullptr)
    &#123;
        sumTail &#x3D; sumTail-&gt;next;
    &#125;
    while (numTail-&gt;next !&#x3D; nullptr)
    &#123;
        numTail &#x3D; numTail-&gt;next;
    &#125;
    &#x2F;&#x2F;从3开始，简化运算
    numTail-&gt;data &#x3D; 3;
    sumTail-&gt;data &#x3D; 3;
    for (int i &#x3D; 1; i &lt; 1000; i++)
    &#123;
        int dividend &#x3D; (2 * i) * (2 * i + 1) * 4;
        int mult &#x3D; (2 * i - 1) * (2 * i - 1);
        &#x2F;&#x2F;先做除法，否则会溢出
        divison(numTail, dividend);
        &#x2F;&#x2F;再做乘法，注意从头结点开始
        multiple(num, mult);
        &#x2F;&#x2F;相加
        add(sum, num);
    &#125;
    &#x2F;&#x2F;指定输出位数输出
    int n;
    std::cin &gt;&gt; n;
    std::cout &lt;&lt; sumTail-&gt;data;
    sumTail &#x3D; sumTail-&gt;prev;
    std::cout &lt;&lt; &quot;.&quot;;
    for (int i &#x3D; 0; i &lt; n - 1; i++)
    &#123;
        std::cout &lt;&lt; sumTail-&gt;data;
        sumTail &#x3D; sumTail-&gt;prev;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果你一点没变地复制粘贴上去，肯定会WA，因为我输出的<strong>不是小数点后几位</strong></p>
<p><strong>如果你输入了n输出的是3.1415，所以你只要把倒数第六行n-1改成n就行了。</strong></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">帝皇の惊</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/03/09/%E9%A2%98%E8%A7%A3/2022-03-09-%E5%8F%8C%E9%93%BE%E8%A1%A8%E6%B1%82500%E4%BD%8D%CE%A0/">http://example.com/2022/03/09/%E9%A2%98%E8%A7%A3/2022-03-09-%E5%8F%8C%E9%93%BE%E8%A1%A8%E6%B1%82500%E4%BD%8D%CE%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Record Everything</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C++</a><a class="post-meta__tags" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2022/06/01/YmRxkMdAUZuaPE5.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/03/09/QtAPI/2022-03-09-QHostInfo/"><img class="prev-cover" src="https://s2.loli.net/2022/06/01/k4fp1z5cQLHP7rA.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">QHostInfo</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/06/QtAPI/2022-03-06-QFont/"><img class="next-cover" src="https://s2.loli.net/2022/05/31/W73bxFpZEM9QKr8.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">QFont</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/03/04/Effective%20C++/2022-03-04-EffectiveC++(1)(1~4)/" title="EffectiveC++(1)(1~4)"><img class="cover" src="https://s2.loli.net/2022/05/29/SHA8TUyC2nx56wR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-04</div><div class="title">EffectiveC++(1)(1~4)</div></div></a></div><div><a href="/2022/03/05/Effective%20C++/2022-03-05-EffectiveC++(2)(5~12)/" title="EffectiveC++(2)(5~12)"><img class="cover" src="https://s2.loli.net/2022/05/31/pvRA9JUYLEcjGBw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-05</div><div class="title">EffectiveC++(2)(5~12)</div></div></a></div><div><a href="/2022/03/01/QtAPI/2022-03-01-QSystemTrayIcon/" title="QSystemTrayIcon"><img class="cover" src="https://s2.loli.net/2022/05/26/E2y345xDjeFMLOP.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-01</div><div class="title">QSystemTrayIcon</div></div></a></div><div><a href="/2022/03/01/QtAPI/2022-03-01-QScreen/" title="QScreen"><img class="cover" src="https://s2.loli.net/2022/05/26/iKt2ey5F1GzwJAP.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-01</div><div class="title">QScreen</div></div></a></div><div><a href="/2022/03/01/QtAPI/2022-03-01-QGuiApplication/" title="QGuiApplication"><img class="cover" src="https://s2.loli.net/2022/05/25/nu19Py3vdmewkh5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-01</div><div class="title">QGuiApplication</div></div></a></div><div><a href="/2022/03/01/QtAPI/2022-03-01-QWebEngineView/" title="QWebEngineView"><img class="cover" src="https://s2.loli.net/2022/05/26/jWnQleCULdFJRw7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-01</div><div class="title">QWebEngineView</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2022/05/25/Xyt6VQrClMbxJgi.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">帝皇の惊</div><div class="author-info__description">记录技术与生活</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/RickSchanze"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">记录点点滴滴</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">题目描述：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">思路分析：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">解题过程：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">输出结果：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%88%90%E5%8A%9F"><span class="toc-number">5.</span> <span class="toc-text">成功！</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">6.</span> <span class="toc-text">完整代码：</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/02/Effective%20C++/2022-03-07-EffectiveC++(3)(13~17)/" title="EffectiveC++(3)(13~17)"><img src="https://s2.loli.net/2022/06/01/cwQeIhHnqvKgUO3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="EffectiveC++(3)(13~17)"/></a><div class="content"><a class="title" href="/2022/06/02/Effective%20C++/2022-03-07-EffectiveC++(3)(13~17)/" title="EffectiveC++(3)(13~17)">EffectiveC++(3)(13~17)</a><time datetime="2022-06-01T16:00:00.000Z" title="发表于 2022-06-02 00:00:00">2022-06-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/2022-06-01-Kruskal%E7%AE%97%E6%B3%95/" title="【算法】Kruskal算法"><img src="https://s2.loli.net/2022/06/02/gR5ku2QIA4M7Sfa.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【算法】Kruskal算法"/></a><div class="content"><a class="title" href="/2022/06/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/2022-06-01-Kruskal%E7%AE%97%E6%B3%95/" title="【算法】Kruskal算法">【算法】Kruskal算法</a><time datetime="2022-05-31T16:00:00.000Z" title="发表于 2022-06-01 00:00:00">2022-06-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/30/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/2022-05-29-Prim%E7%AE%97%E6%B3%95/" title="【算法】Prim算法"><img src="https://s2.loli.net/2022/05/31/KE128i6apGVCL9I.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【算法】Prim算法"/></a><div class="content"><a class="title" href="/2022/05/30/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/2022-05-29-Prim%E7%AE%97%E6%B3%95/" title="【算法】Prim算法">【算法】Prim算法</a><time datetime="2022-05-29T16:00:00.000Z" title="发表于 2022-05-30 00:00:00">2022-05-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/28/Qt%E4%BD%BF%E7%94%A8/2022-05-28-Qt%E5%9B%BE%E5%BD%A2%E8%A7%86%E5%9B%BE%E6%A1%86%E6%9E%B6/" title="Qt图形视图框架"><img src="https://s2.loli.net/2022/05/28/cm6aAS7jHh1Y2wf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Qt图形视图框架"/></a><div class="content"><a class="title" href="/2022/05/28/Qt%E4%BD%BF%E7%94%A8/2022-05-28-Qt%E5%9B%BE%E5%BD%A2%E8%A7%86%E5%9B%BE%E6%A1%86%E6%9E%B6/" title="Qt图形视图框架">Qt图形视图框架</a><time datetime="2022-05-28T02:25:49.000Z" title="发表于 2022-05-28 10:25:49">2022-05-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/26/Qt%E4%BD%BF%E7%94%A8/2022-05-26-Qt%E5%8A%A8%E7%94%BB%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8/" title="Qt动画框架使用"><img src="https://s2.loli.net/2022/05/28/gBW4jRzQ7vADYKL.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Qt动画框架使用"/></a><div class="content"><a class="title" href="/2022/05/26/Qt%E4%BD%BF%E7%94%A8/2022-05-26-Qt%E5%8A%A8%E7%94%BB%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8/" title="Qt动画框架使用">Qt动画框架使用</a><time datetime="2022-05-26T15:45:09.000Z" title="发表于 2022-05-26 23:45:09">2022-05-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 帝皇の惊</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">就算没有意义，偶尔也会有好事发生</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简体</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="/js/randombg.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>